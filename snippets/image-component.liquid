{%- liquid
  assign image_aspect_ratio = image.aspect_ratio
  assign image_width = image.width
  assign image_height = image.height

  assign img_url = image | img_url: '1x1' | replace: '_1x1.', '_{width}x.'
-%}

<div class="image-wrap" style="height: 0; padding-bottom: {{ 100 | divided_by: image_aspect_ratio }}%;">
  <img class="lazyload"
          data-src="{{ img_url }}"
          data-widths="[360, 540, 720, 900, 1080]"
          data-aspectratio="{{ image_aspect_ratio }}"
          data-sizes="auto"
          alt="{{ image.alt | escape | split: '#' | first }}"
          role="presentation">

        <noscript>
          <img class="lazyloaded"
            src="{{ image | img_url: '1400x' }}"
            alt="{{ image.alt | escape }}">
        </noscript>
</div>