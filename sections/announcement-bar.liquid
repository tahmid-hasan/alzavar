<style>
  {%- if settings.color_announcement == settings.color_body_bg -%}
    .announcement-bar {
      border-bottom: 1px solid;
    }
  {%- endif -%}
</style>
<div data-section-id="{{ section.id }}" data-section-type="header">
  {%- if section.settings.show_announcement_on_homepage -%}
    {%- if template contains 'index' -%}
      {%- render 'announcement-bar', section: section -%}
    {%- endif -%}
  {%- else -%}
    {%- render 'announcement-bar', section: section -%}
  {%- endif -%}
</div>
{% schema %}
  {
    "name": "Announcement bar",
    "settings": [
      {
        "type": "checkbox",
        "id": "announcement_compact",
        "label": "t:sections.header.settings.announcement_compact.label"
      },
      {
        "type": "checkbox",
        "id": "show_announcement_on_homepage",
        "label": "t:sections.header.settings.announcement_hide.label"
      }
    ],
    "blocks": [
      {
        "type": "announcement",
        "name": "t:sections.header.blocks.announcement.name",
        "limit": 3,
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "t:sections.header.blocks.announcement.settings.text.label",
            "default": "Hassle-free returns"
          },
          {
            "type": "text",
            "id": "link_text",
            "label": "t:sections.header.blocks.announcement.settings.link_text.label",
            "default": "30-day postage paid returns"
          },
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.header.blocks.announcement.settings.link.label"
          }
        ]
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}